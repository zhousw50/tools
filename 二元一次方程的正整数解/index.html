<html>
<head>
    <meta charset="UTF-8">
    <title>二元一次方程的正整数解</title>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.4.0/dist/sweetalert2.all.min.js"></script>
    <script src='../index.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/mdui@1.0.2/dist/js/mdui.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/davidshimjs-qrcodejs@0.0.2/qrcode.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/index.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdui@1.0.2/dist/css/mdui.css">
    <link rel='stylesheet' href='https://api.kinh.cc/Static/CSS/MDUI-Border-Radius.css'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.5, maximum-scale=2.0, user-scalable=yes">
    <style>
        #picyzm {
            width: 100px;
            height: 40px;
            display: inline-block;
            margin: 0 50px;
        }
        input {
            -webkit-text-size-adjust: 100%;
            word-wrap: break-word;
            -webkit-tap-highlight-color: transparent;
            -webkit-writing-mode: horizontal-tb !important;
            -webkit-rtl-ordering: logical;
            text-rendering: auto;
            text-align: center;
            box-sizing: border-box;
            height: 36px;
            width: 25%;
            margin: 0;
            padding: 8px 0;
            overflow: hidden;
            font-size: 16px;
            font-family: inherit;
            line-height: 20px;
            background: 0 0;
            border: none;
            border-bottom: 1px solid;
            border-radius: 0;
            outline: 0;
            box-shadow: none;
            transition-timing-function: cubic-bezier(.4,0,.2,1);
            transition-duration: .2s;
            transition-property: border-bottom-color,padding-right,box-shadow,-webkit-box-shadow;
            appearance: none;
            resize: none;
        }
    </style>
</head>
<body class='mdui-appbar-with-toolbar mdui-theme-primary-indigo mdui-theme-accent-indigo'>
<header class='mdui-appbar mdui-appbar-fixed'>
    <div class='mdui-toolbar mdui-color-theme'>
        <h1>      </h1>
        <a href='' class='mdui-typo-headline' mdui-tooltip="{content:'解二元一次方程组'}">二元一次方程的正整数解</span></a>
        <div class='mdui-toolbar-spacer'></div>
        <a href='javascript:window.location.reload()' class='mdui-btn mdui-btn-icon'><i class='mdui-icon material-icons' mdui-tooltip="{content:'刷新'}">refresh</i></a>
    </div>
</header>
<div class='mdui-card-content mdui-typo'>
    <div class='mdui-row-sm-1 mdui-row-lg-1'>
        <div class='mdui-col'>
            <div class='mdui-card'>
                <div class='mdui-card-content'>
                    <div class='mdui-card-primary-title' style="text-align: center">二元一次方程的正整数解</div>
                    <div class='mdui-card-menu'>
                        <button type='button' class='mdui-btn mdui-color-red-400 mdui-ripple' mdui-tooltip='{content:&quot;清空表单&quot;}' onclick='DelData()'><i class='mdui-icon material-icons'>delete</i>清空</button>
                    </div>
                </div>
                <div class='mdui-card-primary' style="text-align: center">
                    <div class='mdui-textfield'>
                        <input id="a" style="text-align: center">x+<input id="b">y=<input id="c">①<br>
                    </div>
                    <div class='mdui-textfield'>
                        <label class='mdui-textfield-label'>验证码</label>
                        <input id="code_input"><p id="picyzm"></p>
                    </div>
                    <br>
                    <button type='button' id="btn" class='mdui-btn mdui-color-green-700 mdui-btn-block mdui-ripple' mdui-tooltip="{content:'解二元一次方程组'}"><i class='mdui-list-item-icon mdui-icon material-icons' style='margin-top:-2px'>arrow_forward</i> 计算</button>

                </div>
            </div>
        </div>
    </div>
</div>
<div hidden id="ans-card" class='mdui-card-content mdui-typo'>
    <div class='mdui-row-sm-1 mdui-row-lg-1'>
        <div class='mdui-col'>
            <div class='mdui-card'>
                <div class='mdui-card-content'>
                    <h1><strong class='mdui-card-primary-title' style="text-align: center">答案</strong></h1>
                    <p id="ans" style="font-size:20px;" style="text-align: center"></p>
                </div>
            </div>
        </div>
    </div>
</div>
<div class='mdui-card-content mdui-typo'>
    <div class='mdui-row-sm-1 mdui-row-lg-1'>
        <div class='mdui-col'>
            <div class='mdui-card'>
                <div class='mdui-card-content'>
                    <h2>记网址很难？扫二维码就行！</h2>
                    二维码生成服务由GitHub开源项目<a href="https://github.com/davidshimjs/qrcodejs" target="_blank">qrcodejs</a>提供<br>
                    加载不出来？<a href=" ">刷新</a>
                    <div id="qrcode" style=""></div>
                    <script>
                        var qrcode = new QRCode(document.getElementById("qrcode"), {
                            text: "https://zhousw.tk",
                            width: 150,
                            height: 150,
                            correctLevel: Math.round(Math.random()*4),
                            typeNumber: Math.round(Math.random()*5),
                            colorDark : "#0e0707",
                            colorLight : "#ffffff",
                        });
                    </script>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    Swal.fire({
        toast: true,
        position: 'top',
        icon: 'info',
        title: '请先将每个二元一次方程化成ax+by=c的形式',
        timer: 1000,
        showConfirmButton: false,
        width: 700
    });
</script>

<div style='height:70px'></div>
<footer class='mdui-typo'>
    <p>Copyright © 2021 - 2022 <a style='font-weight:600' href='https://zhousw.top/' target='_blank'>zhousw</a><lua id='ShareInfo'></lua></p>
</footer>

<script>
    !(function(window, document) {
        function GVerify(options) { // 创建一个图形验证码对象，接收options对象为参数
            this.options = { // 默认options参数值
                id: "", // 容器Id
                canvasId: "verifyCanvas", // canvas的ID
                width: "100", // 默认canvas宽度
                height: "30", // 默认canvas高度
                type: "blend", // 图形验证码默认类型blend:数字字母混合类型、number:纯数字、letter:纯字母
                code: ""
            }

            if(Object.prototype.toString.call(options) == "[object Object]"){// 判断传入参数类型
                for(var i in options) { // 根据传入的参数，修改默认参数值
                    this.options[i] = options[i];
                }
            }else{
                this.options.id = options;
            }

            this.options.numArr = "1,2,3,4,5,6,7,8,9".split(",");
            this.options.letterArr = getAllLetter();

            this._init();
            this.refresh();
        }

        GVerify.prototype = {

            /** 初始化方法* */
            _init: function() {
                var con = document.getElementById(this.options.id);
                var canvas = document.createElement("canvas");
                this.options.width = con.offsetWidth > 0 ? con.offsetWidth : "100";
                this.options.height = con.offsetHeight > 0 ? con.offsetHeight : "30";
                canvas.id = this.options.canvasId;
                canvas.width = this.options.width;
                canvas.height = this.options.height;
                canvas.style.cursor = "pointer";
                canvas.innerHTML = "您的浏览器版本不支持canvas";
                con.appendChild(canvas);
                var parent = this;
                canvas.onclick = function(){
                    parent.refresh();
                }
            },

            /** 生成验证码* */
            refresh: function() {
                this.options.code = "";
                var canvas = document.getElementById(this.options.canvasId);
                if(canvas.getContext) {
                    var ctx = canvas.getContext('2d');
                }else{
                    return;
                }

                ctx.textBaseline = "middle";

                ctx.fillStyle = randomColor(180, 240);
                ctx.fillRect(0, 0, this.options.width, this.options.height);

                if(this.options.type == "blend") { // 判断验证码类型
                    var txtArr = this.options.numArr.concat(this.options.letterArr);
                } else if(this.options.type == "number") {
                    var txtArr = this.options.numArr;
                } else {
                    var txtArr = this.options.letterArr;
                }

                for(var i = 1; i <= 4; i++) {
                    var txt = txtArr[randomNum(0, txtArr.length)];
                    this.options.code += txt;
                    ctx.font = randomNum(this.options.height/2, this.options.height) + 'px SimHei'; // 随机生成字体大小
                    ctx.fillStyle = randomColor(50, 160); // 随机生成字体颜色
                    ctx.shadowOffsetX = randomNum(-3, 3);
                    ctx.shadowOffsetY = randomNum(-3, 3);
                    ctx.shadowBlur = randomNum(-3, 3);
                    ctx.shadowColor = "rgba(0, 0, 0, 0.3)";
                    var x = this.options.width / 5 * i;
                    var y = this.options.height / 2;
                    var deg = randomNum(-30, 30);
                    /** 设置旋转角度和坐标原点* */
                    ctx.translate(x, y);
                    ctx.rotate(deg * Math.PI / 180);
                    ctx.fillText(txt, 0, 0);
                    /** 恢复旋转角度和坐标原点* */
                    ctx.rotate(-deg * Math.PI / 180);
                    ctx.translate(-x, -y);
                }
                /** 绘制干扰线* */
                for(var i = 0; i < 4; i++) {
                    ctx.strokeStyle = randomColor(40, 180);
                    ctx.beginPath();
                    ctx.moveTo(randomNum(0, this.options.width), randomNum(0, this.options.height));
                    ctx.lineTo(randomNum(0, this.options.width), randomNum(0, this.options.height));
                    ctx.stroke();
                }
                /** 绘制干扰点* */
                for(var i = 0; i < this.options.width/4; i++) {
                    ctx.fillStyle = randomColor(0, 255);
                    ctx.beginPath();
                    ctx.arc(randomNum(0, this.options.width), randomNum(0, this.options.height), 1, 0, 2 * Math.PI);
                    ctx.fill();
                }
            },

            /** 验证验证码* */
            validate: function(code){
                var code = code.toLowerCase();
                var v_code = this.options.code.toLowerCase();
                if(code == v_code){
                    return true;
                }else{
                    return false;
                }
            }
        }
        /** 生成字母数组* */
        function getAllLetter() {
            var letterStr = "a,b,c,d,e,f,g,h,i,j,k,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,P,Q,R,S,T,U,V,W,X,Y,Z";
            return letterStr.split(",");
        }
        /** 生成一个随机数* */
        function randomNum(min, max) {
            return Math.floor(Math.random() * (max - min) + min);
        }
        /** 生成一个随机色* */
        function randomColor(min, max) {
            var r = randomNum(min, max);
            var g = randomNum(min, max);
            var b = randomNum(min, max);
            return "rgb(" + r + "," + g + "," + b + ")";
        }
        window.GVerify = GVerify;
    })(window, document);

    //初始化验证码
    var verifyCode = new GVerify({
        id : "picyzm",
        type : "blend"
    });
    //点击按钮验证
    var code = document.getElementById("code_input");
    var btn = document.getElementById("btn");
    btn.onclick = function() {
        var res = verifyCode.validate(code.value);
        if (res) {
            count2();
        } else {
            Swal.fire({
                icon: 'error',
                title: '请正确地输入验证码！',
                showConfirmButton: false,
                timer: 1500
            });
        }
    }
</script>
</body>
</html>